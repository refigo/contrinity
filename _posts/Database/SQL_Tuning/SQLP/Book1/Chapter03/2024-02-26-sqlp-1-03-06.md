---
title: <오라클 성능 고도화 원리와 해법1> Ch03-06 V$SYSTEM_EVENT
date: 2024-02-29
categories: sql tuning
---


### 오라클 성능 고도화 원리와 해법1 - Ch03-06 V$SYSTEM_EVENT



오라클은 성능 측정 지표로서 활용 가능한 항목들을 선정하고, SQL이 수행되는 동안 지속적으로 그 항목들에 대한 누적 통계치를 저장한다. 인스턴스 기동 후 현재까지 누적된 수행 통계치를 시스템 레벨로 확인하고자 할 때 사용하는 뷰가 v\$sysstat이고, 개별 세션별로 확인할 때 사용하는 뷰가 v\$sesstat이다. 현재 접속해 있는 본인 세션에 대한 수행 통계는 v\$mystat을 통해 확인할 수 있다.

정의만 나열하는 식의 설명이라면 오라클 공식 매뉴얼을 통해 쉽게 얻을 수 있다. 대신 각 장의 내용을 이해하는데 필요한 항목들에 대해서는 자세히 설명한다.

#### (1) 시스템 수행 통계 수집 및 분석

v\$sysstat이나 v\$sesstat에 나타나는 값들은 인스턴스 기동 후 또는 세션 수립 후 현재까지 누적된 값이므로 그 값의 크고 작음만으로 의미 있는 정보를 얻기는 어렵다. **이를 제대로 활용하는 방법은, 두 구간 사이의 변화량(증분, delta)을 구해 SQL 수행 도중에 내부적으로 어떤 일들이 발생했는지를 판명하는 것이다.**

시스템 레벨로도 v\$sysstat 정보를 주기적으로 수집해 저장해두면 위와 같은 구간 분석을 통해 시스템 전반의 시간대별 Load Profiling이 가능하다. 그림 3-2는 session logical reads 항목을 이용해 RAC 3개 노드 각각에서 발생하는 하루 동안의 Logical Reads 발생량을 그래프로 비교해 보인 것이다.

![](/assets/images/sqlp/sqlp1-03-05-1-img3-2.png)

**v\$sysstat을 읽어 지정된 테이블에 insert하는 간단한 프로시저를 하나 작성하고, 이를 주기적으로 수행하도록 dbms_scheduler를 이용해 job으로 등록하면 된다.** v\$sysstat을 읽는 데 단 1초도 걸리지 않으므로 시스템에 주는 부하도 거의 없다.

